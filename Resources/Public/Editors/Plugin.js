(()=>{var zt=Object.create;var ut=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var Nt=Object.getOwnPropertyNames;var St=Object.getPrototypeOf,Ht=Object.prototype.hasOwnProperty;var dt=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,o)=>(typeof require<"u"?require:e)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var jt=(t,e)=>()=>(t&&(e=t(t=0)),e);var gt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Jt=(t,e)=>{for(var o in e)ut(t,o,{get:e[o],enumerable:!0})},_t=(t,e,o,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Nt(e))!Ht.call(t,r)&&r!==o&&ut(t,r,{get:()=>e[r],enumerable:!(n=Vt(e,r))||n.enumerable});return t};var G=(t,e,o)=>(o=t!=null?zt(St(t)):{},_t(e||!t||!t.__esModule?ut(o,"default",{value:t,enumerable:!0}):o,t));function S(t){return(...e)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${t}`])return window["@Neos:HostPluginAPI"][`@${t}`](...e);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var P=jt(()=>{});var L=gt((_e,vt)=>{P();vt.exports=S("vendor")().React});var K=gt((Me,Gt)=>{P();Gt.exports=S("NeosProjectPackages")().NeosUiDecorators});var J=gt((Pe,wt)=>{P();wt.exports=S("NeosProjectPackages")().ReactUiComponents});P();var yt=S("manifest");var H=G(L()),Bt=G(K()),q=G(J());function Ot(t){var e,o,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(o=Ot(t[e]))&&(n&&(n+=" "),n+=o)}else for(o in t)t[o]&&(n&&(n+=" "),n+=o);return n}function Mt(){for(var t,e,o=0,n="",r=arguments.length;o<r;o++)(t=arguments[o])&&(e=Ot(t))&&(n&&(n+=" "),n+=e);return n}var h=Mt;var z=G(L());var i={textLeft:"a90-4q_textLeft",rangeLabel:"a90-4q_rangeLabel",fontOutput:"a90-4q_fontOutput",rounded:"a90-4q_rounded",primaryWrapper:"a90-4q_primaryWrapper",primaryDisabled:"a90-4q_primaryDisabled",rangeIcon:"a90-4q_rangeIcon",rangeOutput:"a90-4q_rangeOutput",range:"a90-4q_range",clipPathOutput:"a90-4q_clipPathOutput",secondaryGrid:"a90-4q_secondaryGrid",flex:"a90-4q_flex",checboxLabel:"a90-4q_checboxLabel",flexColumn:"a90-4q_flexColumn",srOnly:"a90-4q_srOnly",previewOutput:"a90-4q_previewOutput",bgBlue:"a90-4q_bgBlue",headlineOutput:"a90-4q_headlineOutput",gap2:"a90-4q_gap2",hidden:"a90-4q_hidden",itemsCenter:"a90-4q_itemsCenter",checkboard:"a90-4q_checkboard",rangeEnableLabel:"a90-4q_rangeEnableLabel",outputContent:"a90-4q_outputContent",primaryButtons:"a90-4q_primaryButtons",secondaryControls:"a90-4q_secondaryControls",bgViolet:"a90-4q_bgViolet",buttonPreview:"a90-4q_buttonPreview",checkboxGrid:"a90-4q_checkboxGrid",radio:"a90-4q_radio",wFull:"a90-4q_wFull",p0:"a90-4q_p0",highlight:"a90-4q_highlight"};var Y=G(L());var Wt=G(J());var Ct="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var $=(t=21)=>{let e="",o=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=Ct[o[t]&63];return e};function k({state:t,onCommit:e,property:o,enableProperty:n,label:r,min:s=0,max:c=100,step:g=1,minIcon:l,maxIcon:a,showValue:u=!1}){let x=$(),m=t[o],p=n?!!t[n]:!0,y=null;return u&&(y=typeof u=="function"?u(m):m),Y.default.createElement("div",{className:i.range},n&&Y.default.createElement("label",{className:h(i.rangeEnableLabel,i.checboxLabel)},Y.default.createElement(Wt.CheckBox,{onChange:X=>{e({[n]:X})},isChecked:p}),Y.default.createElement("span",null,r," ",y)),Y.default.createElement("label",{htmlFor:x,className:n?i.srOnly:i.rangeLabel},r," ",y),p&&Y.default.createElement("div",{className:h(i.flex,i.itemsCenter,i.gap2)},Y.default.createElement("div",{className:i.rangeIcon},l),Y.default.createElement("input",{type:"range",id:x,min:s,max:c,value:m,step:g,onChange:({target:X})=>{e({[o]:X.valueAsNumber})}}),Y.default.createElement("div",{className:i.rangeIcon},a)))}var v={};Jt(v,{AngleHigh:()=>re,AngleLow:()=>ie,ArrowDown:()=>Et,ArrowLeft:()=>Rt,ArrowRight:()=>Kt,ArrowUp:()=>Ut,Circle:()=>Pt,Mountain:()=>Tt,Peak:()=>$t,PeakHigh:()=>ne,PeakLow:()=>oe,Square:()=>Dt,Wave:()=>qt,WaveHigh:()=>ee,WaveLow:()=>te});var f=G(L());function Dt({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("rect",{strokeWidth:"2",fill:"none",stroke:"currentColor",x:"1",y:"1",width:"22",height:"22"}))}function Pt({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("circle",{strokeWidth:"2",stroke:"currentColor",fill:"none",cx:"12",cy:"12",r:"11"}))}function qt({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("path",{fill:"none",fillRule:"nonzero",stroke:"currentcolor",strokeLinecap:"round",strokeWidth:"2",d:"M1 13.04l1.222 2.586c1.222 2.634 3.667 5.757 6.111 3.779 2.445-1.979 3.89-13.01 7.334-14.988 2.296-1.32 4.74 1.485 7.333 8.412"}))}function Tt({size:t=24}){return f.default.createElement("svg",{viewBox:"0 0 752 752",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:t,height:t},f.default.createElement("path",{d:"M409.71 224.23c-3.05.04-6.2 1.863-8.434 5.18l-84.949 145.77-25.16-43.363c-1.59-2.762-4.66-4.614-7.843-4.735-3.434-.136-6.868 1.758-8.586 4.735l-104.78 180.26c-5.64 9.367.43 15.703 9.027 15.688h396.03c6.59-.047 11.434-8.5 8.14-14.207l-165.46-284.15c-1.992-3.465-4.94-5.215-7.992-5.18zm-4.438 60.676a9.471 9.471 0 0 1 8.731 4.883l77.551 132.45v.004a9.516 9.516 0 0 1-3.406 13.023 9.516 9.516 0 0 1-13.023-3.406l-77.551-132.6h.004a9.473 9.473 0 0 1 7.695-14.356z",fillRule:"evenodd"}))}function Ut({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",width:t,height:t},f.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19.5v-15m0 0l-6.75 6.75M12 4.5l6.75 6.75"}))}function Et({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",width:t,height:t},f.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"}))}function Rt({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",width:t,height:t},f.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"}))}function Kt({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",width:t,height:t},f.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"}))}function $t({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("path",{fill:"none",fillRule:"nonzero",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 13.3142857L8 20 16 4 23 11.8857143"}))}function te({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("path",{fill:"none",fillRule:"nonzero",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 13.247l1.833-.876c1.834-.876 5.5-2.63 9.167-2.339 3.667.312 7.333 2.613 9.167 3.801L23 15"}))}function ee({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("path",{fill:"none",fillRule:"nonzero",stroke:"currentcolor",strokeLinecap:"round",strokeWidth:"2",d:"M1 13.736C2.04 11.933 3.09 5.049 4.146 5c.659.031 1.324 2.817 1.985 5.531.38 1.561.76 3.098 1.138 4.073 1.059 2.574 2.113.935 3.146-.868 1.057-1.803 2.113-3.442 3.146-3.491 1.055.049 2.114 1.688 3.146 4.36 1.052 2.573 2.09 6.178 3.147 5.244 1.05-.869 2.09-6.113 2.618-8.736L23 8.491"}))}function oe({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"currentcolor",strokeLinecap:"round",strokeWidth:"2",d:"M5 16l14-7"}))}function ne({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t},f.default.createElement("path",{fill:"none",fillRule:"nonzero",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 21.3703704L4.66666667 7.51851852 8.33333333 21.3703704 12 4.25925926 15.6666667 19.7407407 19.3333333 1 23 23"}))}function ie({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",fill:"currentColor",width:t,height:t},f.default.createElement("path",{d:"M316.3 79l15-28.3L274.7 20.7 259.7 49 56.5 433 31.7 480H84.8 480h32V416H480 137.9L316.3 79zM302.7 173l-22.8 43c22.5 17.9 42.3 38.9 58.8 62.5l40.8-25.3c-21.1-30.7-47.1-57.8-76.8-80.2zm82.3 211h49c-7-37-19.8-71.9-37.6-103.7l-40.8 25.3c13.3 24.2 23.3 50.5 29.4 78.3z"}))}function re({size:t=24}){return f.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor",width:t,height:t},f.default.createElement("path",{d:"M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V448c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V64zM96 97.6v48.3c31 3.6 60.4 12.5 87.4 25.7l25.3-41.1C174.2 113 136.2 101.6 96 97.6zm115.2 89.7c32.6 21 60.5 48.9 81.5 81.5l40.9-25.2c-25-39-58.2-72.2-97.2-97.2l-25.2 40.9zM334.1 384h48.3c-4-40.2-15.4-78.2-32.9-112.6l-41 25.3c13.2 26.9 22 56.3 25.7 87.4z"}))}function et(t){let{height:e,offset:o,amplitude:n,frequency:r,points:s,phase:c,asyncPhaseEnable:g,asyncPhase:l}=t,a=s;a>6&&(a={7:100,8:150,9:200,10:300}[s]||300);let u=2*Math.PI*(r*-1)/a,x=c*Math.PI/180,m=Xt({scaledPoints:a,offset:o,amplitude:n,units:u,radPhase:x,height:e}),p=g?Xt({scaledPoints:a,offset:o,amplitude:n,units:u,radPhase:l*Math.PI/180,height:e}):m;return{...t,top:m,bottom:p}}function Xt({scaledPoints:t,offset:e,amplitude:o,units:n,radPhase:r,height:s}){let c=[];for(let g=0;g<=t;g++){let l=e+o*Math.cos(g*n+r),a=g*100/t,u=l/s*100;c.push(`${a.toFixed(2)}% ${u.toFixed(2)}%`)}return c.join(",")}function tt(t,e=!0){return e?`polygon(100% 100%,0% 100%,${t})`:`polygon(100% 0%,0% 0%,${t})`}function _({state:t,label:e,topColor:o,bottomColor:n}){let{width:r,height:s,top:c,bottom:g,asyncPhaseEnable:l}=t;if(!c||!g)return"";let a=`${r}  / ${s}`,u=`${s/r*-100}%`;return z.default.createElement("div",{className:h(i.checkboard,i.clipPathOutput)},z.default.createElement("div",{style:{position:"relative",zIndex:2}},z.default.createElement("div",{className:i.bgBlue,style:{backgroundColor:o,aspectRatio:a,clipPath:tt(c),marginBottom:"-1px"}}),z.default.createElement("h1",{style:{backgroundColor:o},className:h(i.outputContent,i.bgBlue)},e),z.default.createElement("div",{className:i.bgBlue,style:{backgroundColor:o,aspectRatio:a,clipPath:tt(g,!1)}})),l&&z.default.createElement("div",{style:{position:"relative",zIndex:1}},z.default.createElement("div",{className:i.bgViolet,style:{backgroundColor:n,aspectRatio:a,clipPath:tt(c),marginTop:u,marginBottom:"-1px",zIndex:-1}}),z.default.createElement("h1",{style:{backgroundColor:n},className:h(i.outputContent,i.bgViolet)},e),z.default.createElement("div",{className:i.bgViolet,style:{backgroundColor:n,aspectRatio:a,clipPath:tt(g,!1)}})))}var b=G(L());function ot({state:t,onCommit:e,labels:o}){let n={wave:{min:b.default.createElement(v.WaveLow,null),max:b.default.createElement(v.WaveHigh,null)},peak:{min:b.default.createElement(v.PeakLow,null),max:b.default.createElement(v.PeakHigh,null)}};return b.default.createElement("div",{className:i.secondaryControls},b.default.createElement(k,{state:t,onCommit:e,property:"width",label:o.width,min:200,max:1400,minIcon:b.default.createElement("div",{className:h(i.flex)},b.default.createElement(v.ArrowRight,{size:"12"}),b.default.createElement(v.ArrowLeft,{size:"12"})),maxIcon:b.default.createElement("div",{className:h(i.flex)},b.default.createElement(v.ArrowLeft,{size:"12"}),b.default.createElement(v.ArrowRight,{size:"12"}))}),b.default.createElement(k,{state:t,onCommit:e,property:"height",label:o.height,min:20,max:500,minIcon:b.default.createElement("div",{className:h(i.flex,i.flexColumn)},b.default.createElement(v.ArrowDown,{size:"12"}),b.default.createElement(v.ArrowUp,{size:"12"})),maxIcon:b.default.createElement("div",{className:h(i.flex,i.flexColumn)},b.default.createElement(v.ArrowUp,{size:"12"}),b.default.createElement(v.ArrowDown,{size:"12"}))}),b.default.createElement(k,{state:t,onCommit:e,property:"offset",label:o.offset,min:1,max:250,minIcon:b.default.createElement(v.ArrowDown,null),maxIcon:b.default.createElement(v.ArrowUp,null)}),b.default.createElement(k,{state:t,onCommit:e,property:"amplitude",label:o.amplitude,min:1,max:200,minIcon:b.default.createElement(v.Mountain,null),maxIcon:b.default.createElement(v.Mountain,{size:"48"})}),b.default.createElement(k,{state:t,onCommit:e,property:"frequency",label:o.frequency,min:.1,max:10,step:.1,minIcon:n[t.points<7?"peak":"wave"].min,maxIcon:n[t.points<7?"peak":"wave"].max}),b.default.createElement(k,{state:t,onCommit:e,property:"points",label:o.points,min:1,max:10,step:1,minIcon:b.default.createElement(v.Peak,null),maxIcon:b.default.createElement(v.Wave,null)}),b.default.createElement(k,{state:t,onCommit:e,property:"phase",label:o.phase,min:-180,max:180,step:5,minIcon:b.default.createElement(v.AngleLow,null),maxIcon:b.default.createElement(v.AngleHigh,null)}),b.default.createElement(k,{state:t,onCommit:e,property:"asyncPhase",enableProperty:"asyncPhaseEnable",label:o.asyncPhase,min:-180,max:180,step:5,minIcon:b.default.createElement(v.AngleLow,null),maxIcon:b.default.createElement(v.AngleHigh,null)}))}var ae=(0,Bt.neos)(t=>({i18nRegistry:t.get("i18n"),secondaryEditorsRegistry:t.get("inspector").get("secondaryEditors")})),se={allowEmpty:!0,disabled:!1};function le(t){let{allowEmpty:e,disabled:o,topColor:n,bottomColor:r}={...se,...t.options},{value:s,commit:c,highlight:g,i18nRegistry:l,renderSecondaryInspector:a,secondaryEditorsRegistry:u}=t;function x(y){c(y)}function m(){a("LITEFYR_CLIPPATH_EDIT",()=>null),c({...s,top:null,bottom:null})}function p(){let{component:y}=u.get("Litefyr.Style/ClipPathEditorWrap");a("LITEFYR_CLIPPATH_EDIT",()=>H.default.createElement(y,{onChange:x,value:s,topColor:n,bottomColor:r,i18nRegistry:l}))}return H.default.createElement("div",{className:h(i.primaryWrapper,o&&i.primaryDisabled)},s.top&&H.default.createElement("button",{type:"button",className:h(i.previewOutput,g&&i.highlight),onClick:p},H.default.createElement(_,{state:s,topColor:n,bottomColor:r}),H.default.createElement(q.Icon,{icon:"pencil",size:"5x",mask:["fas","circle"],transform:"shrink-8"})),H.default.createElement("div",{className:i.primaryButtons},H.default.createElement(q.IconButton,{className:h(!s.top&&g&&i.highlight),style:"lighter",icon:"pencil",title:"Edit",onClick:p}),e&&H.default.createElement(q.IconButton,{style:"lighter",icon:"times",title:"Reset",onClick:m})))}var bt=ae(le);var j=G(L());function nt({onChange:t,value:e,topColor:o,bottomColor:n,i18nRegistry:r}){let[s,c]=(0,j.useState)({width:1200,height:140,offset:70,amplitude:60,frequency:1.5,points:7,phase:0,asyncPhaseEnable:!1,asyncPhase:0,top:null,bottom:null});function g({width:u,height:x,offset:m,amplitude:p,frequency:y,points:X,phase:C,asyncPhaseEnable:W,asyncPhase:F}){u==null&&(u=s.width),x==null&&(x=s.height),m==null&&(m=s.offset),p==null&&(p=s.amplitude),y==null&&(y=s.frequency),X==null&&(X=s.points),C==null&&(C=s.phase),W==null&&(W=!!s.asyncPhaseEnable),F==null&&(F=s.asyncPhase);let N=et({width:u,height:x,offset:m,amplitude:p,frequency:y,points:X,phase:C,asyncPhaseEnable:W,asyncPhase:F});c(N),t(N)}(0,j.useEffect)(()=>{let u=et({...s,...e});c(u),(!e.top||!e.bottom)&&t(u)},[]);let l=["content","width","height","offset","amplitude","frequency","points","phase","asyncPhaseEnable","asyncPhase"],a={};return l.forEach(u=>{a[u]=r.translate(`Litefyr.Style:NodeTypes.Mixin.Visuals.ClipPath:editor.${u}`)}),j.default.createElement("div",{className:i.secondaryGrid},j.default.createElement(ot,{state:s,onCommit:g,labels:a}),j.default.createElement(_,{state:s,label:a.content,topColor:o,bottomColor:n}))}var Q=G(L()),Zt=G(K()),M=G(J());var ce=(0,Zt.neos)(t=>({i18nRegistry:t.get("i18n"),config:t.get("frontendConfiguration").get("LitefyrStyleEditorsFont"),secondaryEditorsRegistry:t.get("inspector").get("secondaryEditors")})),ue={type:"main",allowEmpty:!1,disabled:!1,roundedButton:0,colorContrastThreshold:65,colors:[],mainFont:{}};function de(t){let e={...ue,...t.config,...t.options},{value:o,commit:n,highlight:r,i18nRegistry:s,renderSecondaryInspector:c,secondaryEditorsRegistry:g}=t,{allowEmpty:l,disabled:a}=e;function u(p){if(p){n(p);return}n({})}function x(){c("LITEFYR_FONT_EDIT",()=>null),n({})}function m(){let{component:p}=g.get("Litefyr.Style/FontEditorWrap");c("LITEFYR_FONT_EDIT",()=>Q.default.createElement(p,{onChange:u,value:o,options:e,i18nRegistry:s}))}return Q.default.createElement("div",{className:h(i.primaryButtons,a&&i.primaryDisabled)},Q.default.createElement(M.Button,{onClick:m,style:"lighter",className:h(i.wFull,i.textLeft,i.rounded,r&&i.highlight)},Q.default.createElement(M.Icon,{icon:"pencil",size:"1x",padded:"right"}),o.font),l&&Q.default.createElement(M.IconButton,{style:"lighter",icon:"times",title:"Reset",onClick:x}))}var pt=ce(de);var V=G(L());var I=G(L());var D=G(L());var At=G(J());function T({value:t,label:e,min:o=0,max:n=100,step:r=1,onChange:s,onReset:c}){let g=$();return D.default.createElement("div",{className:i.range},D.default.createElement("label",{htmlFor:g,className:i.flex},e,": ",t),D.default.createElement("div",{className:h(i.flex,i.itemsCenter,i.gap2)},D.default.createElement("input",{type:"range",id:g,min:o,max:n,value:t,step:r,onChange:({target:l})=>s(l.valueAsNumber)}),c&&D.default.createElement(At.IconButton,{style:"lighter",icon:"times",title:"Reset",onClick:c})))}var E=G(J());var mt;async function ge(t,e={}){let{folder:o,fonts:n}=e,r=n[t];if(!mt){await import("/_Resources/Static/Packages/Litefyr.Style/Editors/Inflate.js"),await import("/_Resources/Static/Packages/Litefyr.Style/Editors/Unbrotli.js");let{Font:g}=await import("/_Resources/Static/Packages/Litefyr.Style/Editors/FontLib.js");mt=g}let s=null;r.fontWeight&&typeof r.fontWeight!="string"&&(s=Array.isArray(r.fontWeight)?r.fontWeight:[r.fontWeight]);let c=r?.filepath;if(!c){let g=s?`${t}-${s[0]}`:t;c=`${o}/${g}.woff2`}return new Promise((g,l)=>{let a=new mt(t);a.onerror=u=>l(u),a.onload=async u=>{let x=await be(u);x.fontWeight.options=s,g(x)},a.src=c})}function be(t){let e=t.detail.font,o=!!e.opentype.tables.fvar,n=[],r=e.opentype.tables.GSUB;r&&(r.getSupportedScripts().forEach(l=>{let a=r.getScriptTable(l);r.getSupportedLangSys(a).forEach(x=>{let m=r.getLangSysTable(l,x);n=[...n,...r.getFeatures(m).map(p=>p.featureTag)]})}),n=[...new Set(n)]);let s={},c={options:null,range:null};if(o){let g=e.opentype.tables.fvar.getSupportedAxes(),l=e.opentype.tables.fvar.axes;l=l.filter(a=>g.includes(a.tag)),l.forEach(a=>{if(a.tag==="wght"){c.range={min:a.minValue,max:a.maxValue,default:a.defaultValue};return}s[a.tag]={tag:a.tag,min:a.minValue,max:a.maxValue,default:a.defaultValue}})}return{fontFeatureSettings:n,fontVariationSettings:s,variable:o,fontWeight:c}}var U=ge;function rt({i18nRegistry:t,state:e,onCommit:o,config:n,setRangePreview:r,allowEmpty:s=!0,enableBold:c=!0}){let{fonts:g}=n,l=[];for(let d in g)l.push({value:d,label:d,group:g[d].group});let a=e?.features?.fontVariationSettings||{};function u(d,O){let w=F();w.fontVariationSettings[d]=O;let A=it(w);o({userSettings:w,style:A})}let x=e?.features?.fontFeatureSettings||[];function m(d,O){let w=F(),A=w.fontFeatureSettings;O?A.push(d):A=A.filter(ct=>ct!==d),w.fontFeatureSettings=[...new Set(A)];let R=it(w);o({userSettings:w,style:R})}let p=e?.features?.variable,y=p?e?.features?.fontWeight?.range:null,X=p?[]:e?.features?.fontWeight?.options,C=X&&X.length>1?X:null;function W(d,O){let w=JSON.parse(JSON.stringify(e.userSettings));w.fontWeight[d]=O;let A=it(w);o({userSettings:w,style:A})}let F=()=>JSON.parse(JSON.stringify(e.userSettings)),N=["characterListing","typeface","normalFontWeight","boldFontWeight"],Z={};return N.forEach(d=>{Z[d]=t.translate(`Litefyr.Style:NodeTypes.Mixin.Fonts:editor.${d}`)}),I.default.createElement("div",{className:i.secondaryControls,style:{maxWidth:"300px"}},I.default.createElement("label",{className:h(i.checboxLabel)},I.default.createElement(E.CheckBox,{onChange:r,isChecked:!!e?.rangePreview}),I.default.createElement("span",null,Z.characterListing)),I.default.createElement("div",{className:h(i.flex,i.flexColumn,i.gap2)},I.default.createElement("div",null,Z.typeface),I.default.createElement(E.SelectBox,{allowEmpty:s,displaySearchBox:!1,options:l,value:e.font,onValueChange:async d=>{if(!d){o();return}let O=await U(d,n),w=O.fontWeight,A=O.variable,R=A?w.range.default:w.options[0],ct=A?Lt(R,w.range.max):w.options[w.options.length-1],xt={font:d,variable:A,fontVariationSettings:pe(O.fontVariationSettings),fontFeatureSettings:[],fontWeight:{normal:R,bold:ct}},Yt=it(xt);o({font:d,features:O,userSettings:xt,style:Yt})}})),y&&I.default.createElement(I.default.Fragment,null,I.default.createElement(T,{min:y.min,max:y.max,value:e.userSettings.fontWeight.normal,label:Z.normalFontWeight,step:5,onChange:d=>W("normal",d),onReset:()=>W("normal",y.default)}),c&&I.default.createElement(T,{min:y.min,max:y.max,value:e.userSettings.fontWeight.bold,label:Z.boldFontWeight,step:5,onChange:d=>W("bold",d),onReset:()=>W("bold",Lt(y.default,y.max))})),C&&I.default.createElement(I.default.Fragment,null,I.default.createElement("div",{className:h(i.flex,i.flexColumn,i.gap2)},I.default.createElement("div",null,Z.normalFontWeight),C.map(d=>I.default.createElement("label",{className:i.radio},I.default.createElement("input",{type:"radio",name:"weightNormal",value:d,checked:e.userSettings.fontWeight.normal==d,onChange:()=>W("normal",d)}),I.default.createElement("span",null),d))),c&&I.default.createElement("div",{className:h(i.flex,i.flexColumn,i.gap2)},I.default.createElement("div",null,Z.boldFontWeight),C.map(d=>I.default.createElement("label",{className:i.radio},I.default.createElement("input",{type:"radio",name:"weightBold",value:d,checked:e.userSettings.fontWeight.bold==d,onChange:()=>W("bold",d)}),I.default.createElement("span",null),d)))),Object.entries(a).map(([d,O])=>I.default.createElement(T,{min:O.min,max:O.max,value:e.userSettings.fontVariationSettings[d],label:d,step:1,onChange:w=>u(d,w),onReset:()=>u(d,O.default)})),I.default.createElement("div",{className:i.checkboxGrid},x.map(d=>I.default.createElement("label",{className:h(i.checboxLabel)},I.default.createElement(E.CheckBox,{onChange:O=>m(d,O),isChecked:e.userSettings.fontFeatureSettings.includes(d)}),I.default.createElement("span",null,d)))))}function pe(t){let e={};for(let o in t){let n=t[o];e[o]=n.value||n.default}return e}function Lt(t,e){return Math.min(t+300,e)}function it({font:t,fontVariationSettings:e,fontFeatureSettings:o,fontWeight:n}){let r={fontFamily:t,fontWeight:n.normal,fontFeatureSettings:o&&o.length?o.map(c=>`"${c}"`).join(","):"normal"},s=[];return Object.entries(e).forEach(([c,g])=>{s.push(`"${c}" ${g}`)}),r.fontVariationSettings=s.length?s.join(","):"normal",{normal:r,bold:{fontWeight:n.bold}}}function at(t={},e=!0){let{fonts:o,fallback:n,folder:r}=t,s=({font:l,filepath:a,weight:u,fixedWeight:x=!1})=>{if(!a){let y=x&&u?`${l}-${u}`:l;a=`${r}/${y}.woff2`}let m=a.split(".").pop(),p=u?`font-weight:${u};`:"";return`@font-face{font-family:${l};${p}font-style:normal;font-display:swap;src:url("${a}") format("${m}")}`},c="";return Object.keys(o).map(l=>{let{filepath:a,fontWeight:u,group:x}=o[l],m="";if(Array.isArray(u)?u.forEach(p=>{m+=s({font:l,filepath:a,weight:p,fixedWeight:!0})}):typeof u=="number"?m+=s({font:l,filepath:a,weight:u,fixedWeight:!0}):m+=s({font:l,filepath:a,weight:u,fixedWeight:!1}),e){let p=`'${l}', ${n[x]}`;c+=`span[title="${l}"],.font-${l}{font-family:${p}}`}return m}).join("")+c}var B=G(L()),Ft=G(K());var ht={btn:"_1PBTPq_btn","btn--theme":"_1PBTPq_btn--theme","btn--ghost":"_1PBTPq_btn--ghost","btn--block":"_1PBTPq_btn--block","btn--big-area":"_1PBTPq_btn--big-area","btn--link":"_1PBTPq_btn--link","btn--inline":"_1PBTPq_btn--inline"};var me=(0,Ft.neos)(t=>({colorConfig:t.get("frontendConfiguration").get("CarbonTailwindColors")})),ft=me(he);function he({text:t,style:e,type:o,colors:n,colorContrastThreshold:r}){let s=kt(t,"blockquote").map(({tagName:l,text:a})=>({tagName:l,text:kt(a,"strong")})),c=o==="button";n=n.filter(l=>!!l);function g(l){let a=parseFloat(l.split("(")[1].split(" ")[0]);return a<1&&(a*=100),a>r?"black":"white"}return B.default.createElement(B.Fragment,null,c&&B.default.createElement("div",{className:i.buttonPreview},n.map((l,a)=>B.default.createElement("button",{key:a,type:"button","data-theme":"main",style:{...e.normal,cursor:"auto",backgroundColor:l,color:g(l),"--fluid-bp":"1px"},class:h(ht.btn,ht["btn--inline"])},t))),!c&&B.default.createElement("div",{style:e.normal},s.map(({tagName:l,text:a},u)=>l==="blockquote"?B.default.createElement("blockquote",{key:u},a.map(({tagName:x,text:m},p)=>x==="strong"?B.default.createElement("strong",{key:p,style:e.bold},st(m)):st(m))):a.map(({tagName:x,text:m},p)=>x==="strong"?B.default.createElement("strong",{key:p,style:e.bold},st(m)):st(m)))))}function st(t){return t.split(/<br\s*\/?>/gi).map((e,o)=>B.default.createElement(B.Fragment,{key:o},o!==0&&B.default.createElement("br",null),e))}function kt(t,e="strong"){let o=[],n=`</${e}>`;return t.split(`<${e}>`).forEach(r=>{if(r.includes(n)){let[s,c]=r.split(n);s&&o.push({tagName:e,text:s}),c&&o.push({tagName:null,text:c});return}r&&o.push({tagName:null,text:r})}),o}function lt({onChange:t,value:e,options:o,i18nRegistry:n}){let[r,s]=(0,V.useState)({font:null,features:{},userSettings:{},style:{},rangePreview:!1});function c(C){if(!C){let O={font:null,features:{},userSettings:{},style:{normal:{},bold:{}},rangePreview:r.rangePreview};s(O),t();return}let{font:W,features:F,userSettings:N,style:Z}=C;W==null&&(W=r.font),F==null&&(F=r.features),N==null&&(N=r.userSettings),Z==null&&(Z=r.style);let d=r.rangePreview;s({font:W,features:F,userSettings:N,style:Z,rangePreview:d}),t({font:W,userSettings:N,style:Z})}function g(C){s({...r,rangePreview:!!C})}(0,V.useEffect)(()=>{async function C(){if(e?.font){let W=await U(e.font,o);s({...r,...e,features:W})}}C()},[]);let l="litefyr-font-preview",a=(()=>{let C=o?.roundedButton||0;return C>=26?"9999px":C/16+"rem"})(),u=`.${l} button{border-radius:${a} !important}`,x=at(o),m=o.type!=="button",p=r.rangePreview?"range":o.type,y=o?.mainFont?.style?fe(o.mainFont.style,l):"",X=n.translate(`Litefyr.Style:NodeTypes.Mixin.Fonts:editor.preview.${p}`);return V.default.createElement("div",{className:i.secondaryGrid},V.default.createElement("style",null,y,x,u),V.default.createElement(rt,{state:r,onCommit:c,config:o,setRangePreview:g,enableBold:m,allowEmpty:o.allowEmpty,i18nRegistry:n}),V.default.createElement("div",{className:h(l,i[p+"Output"],i.fontOutput)},V.default.createElement(ft,{text:X,style:r.style,type:o.type,colors:o?.colors,colorContrastThreshold:o?.colorContrastThreshold})))}function fe({normal:t,bold:e},o){if(!t)return"";let n=[`font-family:${t.fontFamily}`,`font-weight:${t.fontWeight}`,`font-feature-settings:${t.fontFeatureSettings}`,`font-variation-settings:${t.fontVariationSettings}`].join(";"),r=`font-weight:${e.fontWeight}`;return`.${o}{${n}}.${o} strong{${r}}`}yt("Litefyr.Style:Editors",{},t=>{let e=t.get("inspector"),o=e.get("editors"),n=e.get("secondaryEditors");o.set("Litefyr.Style/ClipPathEditor",{component:bt}),n.set("Litefyr.Style/ClipPathEditorWrap",{component:nt}),o.set("Litefyr.Style/FontEditor",{component:pt}),n.set("Litefyr.Style/FontEditorWrap",{component:lt})});})();
//# sourceMappingURL=Plugin.js.map
