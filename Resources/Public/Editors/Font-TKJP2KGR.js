import{d as s}from"./chunk-PIEJW5BA.js";import{a as b}from"./chunk-PY33OOP5.js";import{a as B,b as u}from"./chunk-ABBWWIRO.js";import{b as d,f as W,g as x}from"./chunk-AXCDKCXT.js";var t=d(W(),1),h=d(x(),1),i=d(B(),1);import E from"/_Resources/Static/Packages/Carbon.Editor.Styling/Dialog.js";var k=(0,t.lazy)(()=>import("./Panel-SYYFP3ZL.js")),P={type:"main",allowEmpty:!0,disabled:!1,enableBold:!0,roundedButton:0,colorContrastThreshold:65,colors:[],allowUpperCase:!1,useCarbonWebfonts:!0};function w({id:e,value:o,commit:c,highlight:C,i18nRegistry:p,carbonWebfonts:F,...a}){let n={...P,...a.config,...a.options},[m,l]=(0,t.useState)(!1),[f,N]=(0,t.useState)(null),[r,S]=(0,t.useState)(o),[y,O]=(0,t.useState)(JSON.stringify(o));n.fonts={...a.config.fonts,...a.options.fonts},n.useCarbonWebfonts&&(n.fonts={...F,...n.fonts}),(0,t.useEffect)(()=>{let L=o?.fontFamily?.split(",")[0].trim();N(L||null),O(JSON.stringify(o))},[o]);let A=(0,t.useCallback)(()=>{l(!1),JSON.stringify(r)!==y&&c(r||{})},[r,o]),J=(0,t.useCallback)(()=>{l(!1),c({})},[]),g=p.translate("Litefyr.Style:NodeTypes.Mixin.Fonts:editor.select");return t.default.createElement("div",{className:u(s.buttons,n.disabled&&s.disabled)},t.default.createElement(i.Button,{id:e,onClick:()=>l(!0),style:"lighter",className:u(s.primaryFontOutput,C&&s.highlight,!f&&s.primaryFontOutputPlaceholder),title:f?p.translate("Litefyr.Style:NodeTypes.Mixin.Fonts:editor.edit"):null},t.default.createElement(i.Icon,{icon:"pencil",size:"1x",padded:"right"}),f||g),!!f&&n.allowEmpty&&t.default.createElement(i.IconButton,{style:"lighter",icon:"times",title:p.translate("Carbon.Webfonts:Main:noFont"),onClick:J}),t.default.createElement(E,{open:m,setOpen:l,onCancel:()=>l(!1),onApply:A,disabledApply:JSON.stringify(r)===y,fullWidth:!0,fullHeight:!0},m&&t.default.createElement(t.Suspense,{fallback:t.default.createElement(b,{isLoading:!0})},t.default.createElement(k,{id:e,onChange:S,value:o,options:n,placeholder:g}))))}var z=(0,h.neos)(e=>({i18nRegistry:e.get("i18n"),config:e.get("frontendConfiguration").get("Litefyr.Style.FontEditor"),carbonWebfonts:e.get("frontendConfiguration").get("CarbonWebfonts")})),V=z(w);export{V as default};
