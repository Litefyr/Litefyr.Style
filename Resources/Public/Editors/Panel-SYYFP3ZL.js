import{a as M,b as O,c as j,d as r}from"./chunk-PIEJW5BA.js";import{a as Z,b as p}from"./chunk-ABBWWIRO.js";import{b as $,f as X,g as Y}from"./chunk-AXCDKCXT.js";var t=$(X(),1),y=$(Z(),1),k=$(Y(),1);import _ from"/_Resources/Static/Packages/Carbon.Webfonts/Editor/FontFamily.js";import{getFontCollection as R,getFontWeight as tt,getFontWeightConfig as et,getFontBasedOnValue as ot}from"/_Resources/Static/Packages/Carbon.Webfonts/Editor/Helper.js";var v=400,g=700;function nt({id:s,onChange:l,value:n,options:e,placeholder:W,i18nRegistry:c,labels:d}){let m=(0,t.useMemo)(()=>R(e.fonts),[e.fonts]),[x,H]=(0,t.useState)(!1),[o,T]=(0,t.useState)(n?.fontFamily),[F,S]=(0,t.useState)(n?.fontVariationSettings||"normal"),[u,b]=(0,t.useState)(n?.fontFeatureSettings||"normal"),[f,L]=(0,t.useState)(n?.fontWeight||v),[a,N]=(0,t.useState)(n?.fontWeightBold||g),[G,V]=(0,t.useState)(null),[q,z]=(0,t.useState)(null),[E,A]=(0,t.useState)(null),[h,P]=(0,t.useState)(!!n?.uppercase);(0,t.useEffect)(()=>{o&&l({fontFamily:o,fontVariationSettings:F,fontFeatureSettings:u,fontWeight:f,fontWeightBold:a,uppercase:h})},[o,F,u,f,a,h]),(0,t.useEffect)(()=>{if(!o)return;let w=ot(o,m.flat);V(w?.cssFile)},[o]),(0,t.useEffect)(()=>{let w=o!==n?.fontFamily,i=et(o,n?.fontWeight,m.flat);if(!i?.font){T(null),P(!1),S("normal"),b("normal"),l();return}if(z(i.fontWeight),A(i.type),V(i.font?.cssFile),w){let Q=(i.type==="fixed"||i.type!==E)&&a===i.value?g:a,U=tt(i.fontWeight,Q,g);i.value!==f&&L(i.value),U!==a&&N(U),S("normal"),b("normal")}},[o]);let C="litefyr-font-preview",D=it(e?.mainFont||{},C),I=`.${C} button{border-radius:${e?.roundedButton||0} !important}`,J=!!e?.enableBold,B=x?"range":e.type,K=c.translate(`Litefyr.Style:NodeTypes.Mixin.Fonts:editor.preview.${B}`);return t.default.createElement("div",{className:r.secondaryGrid},t.default.createElement("style",null,D,I),t.default.createElement("div",{className:p(r.maxHeightSecondary,r.paddingSecondary,r.secondaryControls)},t.default.createElement("label",{className:p(r.checkboxLabel)},t.default.createElement(y.CheckBox,{onChange:H,isChecked:!!x}),d.characterListing),t.default.createElement("div",null,t.default.createElement(y.Label,{htmlFor:`${s}-fontfamily`},d.typeface),t.default.createElement(_,{id:`${s}-fontfamily`,scrollable:!1,value:o,commit:T,options:{allowEmpty:!!e?.allowEmpty,useCarbonWebfonts:!!e?.useCarbonWebfonts,placeholder:W}})),o&&t.default.createElement(t.default.Fragment,null,t.default.createElement(O,{id:s,defaultFontWeight:v,defaultFontWeightBold:g,fontType:E,fontWeight:f,setFontWeight:L,fontWeightBold:a,setFontWeightBold:N,enableBold:J,fontWeightConfig:q}),t.default.createElement(j,{id:s,cssFile:G,allowUpperCase:e?.allowUpperCase,uppercase:h,setUppercase:P,fontVariationSettings:F,setFontVariationSettings:S,fontFeatureSettings:u,setFontFeatureSettings:b}))),t.default.createElement("div",{className:p(C,r[B+"Output"],r.fontOutput)},t.default.createElement(M,{text:K,style:o?{fontFamily:o,fontWeight:f,fontVariationSettings:F,fontFeatureSettings:u,textTransform:h?"uppercase":"inherit"}:{},fontWeightBold:o?a:null,type:B,colors:e?.colors,colorContrastThreshold:e?.colorContrastThreshold})))}function it({fontFamily:s,fontVariationSettings:l,fontFeatureSettings:n,fontWeight:e,fontWeightBold:W},c){let d=[s?`font-family:${s}`:null,`font-weight:${e||v}`,`font-feature-settings:${n||"normal"}`,`font-variation-settings:${l||"normal"}`].filter(Boolean).join(";"),m=`font-weight:${W||g}`;return`.${c}{${d}}.${c} strong{${m}}`}var st=(0,k.neos)(s=>{let l=s.get("i18n"),n={};return["characterListing","typeface"].forEach(e=>{n[e]=l.translate(`Litefyr.Style:NodeTypes.Mixin.Fonts:editor.${e}`)}),{labels:n,i18nRegistry:l}}),gt=st(nt);export{gt as default};
