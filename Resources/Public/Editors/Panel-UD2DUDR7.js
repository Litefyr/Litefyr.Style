import{a as P,b as M,c as O,d as r}from"./chunk-UL56HP6Z.js";import{a as X,b as h}from"./chunk-42WQAUJ2.js";import{b as v,f as Q,g as U}from"./chunk-AXCDKCXT.js";var t=v(Q(),1),y=v(X(),1),j=v(U(),1);import Y from"/_Resources/Static/Packages/Carbon.Webfonts/Editor/FontFamily.js";import{getFontCollection as Z,getFontWeight as _,getFontWeightConfig as R,getFontBasedOnValue as tt}from"/_Resources/Static/Packages/Carbon.Webfonts/Editor/Helper.js";var B=400,g=700;function et({id:s,onChange:l,value:o,options:e,placeholder:W,i18nRegistry:c,labels:d}){let F=(0,t.useMemo)(()=>Z(e.fonts),[e.fonts]),[$,k]=(0,t.useState)(!1),[n,p]=(0,t.useState)(o?.fontFamily),[m,w]=(0,t.useState)(o?.fontVariationSettings||"normal"),[u,x]=(0,t.useState)(o?.fontFeatureSettings||"normal"),[f,T]=(0,t.useState)(o?.fontWeight||B),[a,L]=(0,t.useState)(o?.fontWeightBold||g),[H,V]=(0,t.useState)(null),[G,q]=(0,t.useState)(null),[N,z]=(0,t.useState)(null);(0,t.useEffect)(()=>{n&&l({fontFamily:n,fontVariationSettings:m,fontFeatureSettings:u,fontWeight:f,fontWeightBold:a})},[n,m,u,f,a]),(0,t.useEffect)(()=>{if(!n)return;let C=tt(n,F.flat);V(C?.cssFile)},[n]),(0,t.useEffect)(()=>{let C=n!==o?.fontFamily,i=R(n,o?.fontWeight,F.flat);if(!i?.font){p(null),l();return}if(q(i.fontWeight),z(i.type),V(i.font?.cssFile),C){let K=(i.type==="fixed"||i.type!==N)&&a===i.value?g:a,E=_(i.fontWeight,K,g);i.value!==f&&T(i.value),E!==a&&L(E),w("normal"),x("normal")}},[n]);function it(){p(null),l()}let S="litefyr-font-preview",A=nt(e?.mainFont||{},S),D=`.${S} button{border-radius:${e?.roundedButton||0} !important}`,I=e.type!=="button",b=$?"range":e.type,J=c.translate(`Litefyr.Style:NodeTypes.Mixin.Fonts:editor.preview.${b}`);return t.default.createElement("div",{className:r.secondaryGrid},t.default.createElement("style",null,A,D),t.default.createElement("div",{className:h(r.maxHeightSecondary,r.paddingSecondary,r.secondaryControls)},t.default.createElement("label",{className:h(r.checkboxLabel)},t.default.createElement(y.CheckBox,{onChange:k,isChecked:!!$}),d.characterListing),t.default.createElement("div",null,t.default.createElement(y.Label,{htmlFor:`${s}-fontfamily`},d.typeface),t.default.createElement(Y,{id:`${s}-fontfamily`,scrollable:!1,value:n,commit:p,options:{allowEmpty:!!e?.allowEmpty,useCarbonWebfonts:!!e?.useCarbonWebfonts,placeholder:W}})),t.default.createElement(M,{id:s,defaultFontWeight:B,defaultFontWeightBold:g,fontType:N,fontWeight:f,setFontWeight:T,fontWeightBold:a,setFontWeightBold:L,enableBold:I,fontWeightConfig:G}),t.default.createElement(O,{id:s,cssFile:H,fontVariationSettings:m,setFontVariationSettings:w,fontFeatureSettings:u,setFontFeatureSettings:x})),t.default.createElement("div",{className:h(S,r[b+"Output"],r.fontOutput)},t.default.createElement(P,{text:J,style:n?{fontFamily:n,fontWeight:f,fontVariationSettings:m,fontFeatureSettings:u}:{},fontWeightBold:n?a:null,type:b,colors:e?.colors,colorContrastThreshold:e?.colorContrastThreshold})))}function nt({fontFamily:s,fontVariationSettings:l,fontFeatureSettings:o,fontWeight:e,fontWeightBold:W},c){let d=[s?`font-family:${s}`:null,`font-weight:${e||B}`,`font-feature-settings:${o||"normal"}`,`font-variation-settings:${l||"normal"}`].filter(Boolean).join(";"),F=`font-weight:${W||g}`;return`.${c}{${d}}.${c} strong{${F}}`}var ot=(0,j.neos)(s=>{let l=s.get("i18n"),o={};return["characterListing","typeface"].forEach(e=>{o[e]=l.translate(`Litefyr.Style:NodeTypes.Mixin.Fonts:editor.${e}`)}),{labels:o,i18nRegistry:l}}),ft=ot(et);export{ft as default};
